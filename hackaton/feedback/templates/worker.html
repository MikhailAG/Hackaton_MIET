<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    {% load static %}
    <title>FeedbackAPP</title>
    <link rel="stylesheet" href="{% static 'css/worker.css' %}">
    <script src="{% static 'js/worker.js' %}"></script>
    <link rel="shortcut icon" href="{% static '/favicon.ico' %}" type="image/x-icon">
    <link rel="icon" href="{% static '/favicon.ico' %}" type="image/x-icon">
</head>
<body>
  <div class="app-container">
    <div class="sidebar">
      <div class="sidebar-header">
        <div class="app-icon">
          <h4>FEEDBACK APP</h4>
        </div>
      </div>
      <ul class="sidebar-list">
        {% if request.session.role != 1 %}
	    <li class="sidebar-list-item feedback">
          <a href="#">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-megaphone" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16"><path d="M13 2.5a1.5 1.5 0 0 1 3 0v11a1.5 1.5 0 0 1-3 0v-.214c-2.162-1.241-4.49-1.843-6.912-2.083l.405 2.712A1 1 0 0 1 5.51 15.1h-.548a1 1 0 0 1-.916-.599l-1.85-3.49a68.14 68.14 0 0 0-.202-.003A2.014 2.014 0 0 1 0 9V7a2.02 2.02 0 0 1 1.992-2.013 74.663 74.663 0 0 0 2.483-.075c3.043-.154 6.148-.849 8.525-2.199V2.5zm1 0v11a.5.5 0 0 0 1 0v-11a.5.5 0 0 0-1 0zm-1 1.35c-2.344 1.205-5.209 1.842-8 2.033v4.233c.18.01.359.022.537.036 2.568.189 5.093.744 7.463 1.993V3.85zm-9 6.215v-4.13a95.09 95.09 0 0 1-1.992.052A1.02 1.02 0 0 0 1 7v2c0 .55.448 1.002 1.006 1.009A60.49 60.49 0 0 1 4 10.065zm-.657.975 1.609 3.037.01.024h.548l-.002-.014-.443-2.966a68.019 68.019 0 0 0-1.722-.082z"/></svg>
              <span>Отзывы</span>
          </a>
        </li>
	    {% endif %}
		<li class="sidebar-list-item employee active">
          <a href="#">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" stroke="currentColor" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" class="bi bi-person" viewBox="0 0 16 16"><path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"/></svg>
              <span>Сотрудники</span>
          </a>
        </li>
        <li class="sidebar-list-item">
          <a href="#">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-pie-chart"><path d="M21.21 15.89A10 10 0 1 1 8 2.83"/><path d="M22 12A10 10 0 0 0 12 2v10z"/></svg>
            <span>Статистика</span>
          </a>
        </li>
        <li class="sidebar-list-item">
          <a href="#">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bell"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>
            <span>Уведомления</span>
          </a>
        </li>
      </ul>
      <div class="account-info">
        <div class="account-info-picture">
          <img src="{% static 'images/logo.jpg' %}" alt="Account">
        </div>
        <div class="account-info-name">{{request.session.name|safe}}</div>
        <button class="account-info-more">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-horizontal"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg>
        </button>
      </div>
    </div>
    <div class="app-content feedback">
      <div class="app-content-header">
        <h1 class="app-content-headerText">Отзывы</h1>
        <button class="mode-switch active" title="Switch Theme">
          <svg class="moon" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="24" height="24" viewBox="0 0 24 24">
            <defs></defs>
            <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
          </svg>
        </button>
        <button class="app-content-headerButton">Генеральный отзыв</button>
      </div>
      <div class="app-content-actions">
        <input class="search-bar" placeholder="Поиск..." type="text">
        <div class="app-content-actions-wrapper">
          <div class="filter-button-wrapper">
            <button class="action-button filter jsFilter"><span>Фильтр</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-filter"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg></button>
            <div class="filter-menu">
              <label>Отправитель</label>
              <select>
                <option>Все</option>
                <option>Куратор</option>
                <option>Генеральный директор</option>
                <option>Другие работники</option>
                <option>Запрошенные</option>
              </select>
              <label>Эмоциональная окраска</label>
              <select>
                <option>Все</option>
                <option>Позитивные</option>
                <option>Негативные</option>
              </select>
              <div class="filter-menu-buttons">
                <button class="filter-button reset">
                  Сбросить
                </button>
                <button class="filter-button apply">
                  Применить
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="products-area-wrapper tableView">
        <div class="products-header">
          <div class="product-cell image">
            Работник
            <button class="sort-button">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"><path fill="currentColor" d="M496.1 138.3L375.7 17.9c-7.9-7.9-20.6-7.9-28.5 0L226.9 138.3c-7.9 7.9-7.9 20.6 0 28.5 7.9 7.9 20.6 7.9 28.5 0l85.7-85.7v352.8c0 11.3 9.1 20.4 20.4 20.4 11.3 0 20.4-9.1 20.4-20.4V81.1l85.7 85.7c7.9 7.9 20.6 7.9 28.5 0 7.9-7.8 7.9-20.6 0-28.5zM287.1 347.2c-7.9-7.9-20.6-7.9-28.5 0l-85.7 85.7V80.1c0-11.3-9.1-20.4-20.4-20.4-11.3 0-20.4 9.1-20.4 20.4v352.8l-85.7-85.7c-7.9-7.9-20.6-7.9-28.5 0-7.9 7.9-7.9 20.6 0 28.5l120.4 120.4c7.9 7.9 20.6 7.9 28.5 0l120.4-120.4c7.8-7.9 7.8-20.7-.1-28.5z"/></svg>
            </button>
          </div>
          <div class="product-cell category">Должность<button class="sort-button">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"><path fill="currentColor" d="M496.1 138.3L375.7 17.9c-7.9-7.9-20.6-7.9-28.5 0L226.9 138.3c-7.9 7.9-7.9 20.6 0 28.5 7.9 7.9 20.6 7.9 28.5 0l85.7-85.7v352.8c0 11.3 9.1 20.4 20.4 20.4 11.3 0 20.4-9.1 20.4-20.4V81.1l85.7 85.7c7.9 7.9 20.6 7.9 28.5 0 7.9-7.8 7.9-20.6 0-28.5zM287.1 347.2c-7.9-7.9-20.6-7.9-28.5 0l-85.7 85.7V80.1c0-11.3-9.1-20.4-20.4-20.4-11.3 0-20.4 9.1-20.4 20.4v352.8l-85.7-85.7c-7.9-7.9-20.6-7.9-28.5 0-7.9 7.9-7.9 20.6 0 28.5l120.4 120.4c7.9 7.9 20.6 7.9 28.5 0l120.4-120.4c7.8-7.9 7.8-20.7-.1-28.5z"/></svg>
            </button></div>
          <div class="product-cell status-cell">Эмоциональная окраска<button class="sort-button">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"><path fill="currentColor" d="M496.1 138.3L375.7 17.9c-7.9-7.9-20.6-7.9-28.5 0L226.9 138.3c-7.9 7.9-7.9 20.6 0 28.5 7.9 7.9 20.6 7.9 28.5 0l85.7-85.7v352.8c0 11.3 9.1 20.4 20.4 20.4 11.3 0 20.4-9.1 20.4-20.4V81.1l85.7 85.7c7.9 7.9 20.6 7.9 28.5 0 7.9-7.8 7.9-20.6 0-28.5zM287.1 347.2c-7.9-7.9-20.6-7.9-28.5 0l-85.7 85.7V80.1c0-11.3-9.1-20.4-20.4-20.4-11.3 0-20.4 9.1-20.4 20.4v352.8l-85.7-85.7c-7.9-7.9-20.6-7.9-28.5 0-7.9 7.9-7.9 20.6 0 28.5l120.4 120.4c7.9 7.9 20.6 7.9 28.5 0l120.4-120.4c7.8-7.9 7.8-20.7-.1-28.5z"/></svg>
            </button></div>
          <div class="product-cell sales">Вес отзыва<button class="sort-button">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"><path fill="currentColor" d="M496.1 138.3L375.7 17.9c-7.9-7.9-20.6-7.9-28.5 0L226.9 138.3c-7.9 7.9-7.9 20.6 0 28.5 7.9 7.9 20.6 7.9 28.5 0l85.7-85.7v352.8c0 11.3 9.1 20.4 20.4 20.4 11.3 0 20.4-9.1 20.4-20.4V81.1l85.7 85.7c7.9 7.9 20.6 7.9 28.5 0 7.9-7.8 7.9-20.6 0-28.5zM287.1 347.2c-7.9-7.9-20.6-7.9-28.5 0l-85.7 85.7V80.1c0-11.3-9.1-20.4-20.4-20.4-11.3 0-20.4 9.1-20.4 20.4v352.8l-85.7-85.7c-7.9-7.9-20.6-7.9-28.5 0-7.9 7.9-7.9 20.6 0 28.5l120.4 120.4c7.9 7.9 20.6 7.9 28.5 0l120.4-120.4c7.8-7.9 7.8-20.7-.1-28.5z"/></svg>
            </button></div>
        </div>
		  {% for fb in current_user.feedbacks_set.all %}
        <div class="products-row feedback"> <!-- Пример того как должен выглядеть пользватель -->
          <button class="cell-more-button">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-vertical"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg>
          </button>
            <div class="product-cell image">
              <span>ОТЗЫВУ ТРЕБА АВТОР!</span>
            </div>
          <div class="product-cell category">ну тут тоже соответсвенно</div>
          <div class="product-cell status-cell">
            <span class="status {%if fb.stars == 1%}negative{%endif%}
				{%if fb.stars == 2%}neutral{%endif%}
				{%if fb.stars == 3%}positive{%endif%}">
				{%if fb.stars == 1%}Негативный{%endif%}
				{%if fb.stars == 2%}Нейтральный{%endif%}
				{%if fb.stars == 3%}Позитивный{%endif%}
			</span>
          </div>
          <div class="product-cell sales">НАДО ЕЩЕ АЛГОРИТМ ДЛЯ ВЕСА</div>
        </div>
		  {% endfor %}
        <!-- TODO: прописать сюда вызов всех пользователей из бд (и все остальные html тоже)
        -->
        </div>
      </div>
    <div class="employee-page">
		<h1 class="card-fullname">Корнеев А. Г.</h1>
		<h2 class="card-jobtitle">UI разработчик</h2>
		<div class="feedbacks">
			<h2 class="card-feedbacks">Отзывы о сотруднике:</h2>
			<div class="feedback-row">
				<div class='task'>
				  <div class="name-status">
					  <div class='task__tags'>Сотрудник В.</div>
					  <div class="product-cell status-cell">
					  <span class="status positive">Позитивный</span>
					  </div>
				  </div>
				  <p>Пришел на работу на 3 минуты раньше!</p>
				  <div class='task__stats'>
					<p>20.10.23</p>
				  </div>
				</div>
			</div>
			<div class="feedback-row">
				<div class='task'>
				  <div class="name-status">
					  <div class='task__tags'>Сотрудник Г.</div>
					  <div class="product-cell status-cell">
					  <span class="status negative">Негативный</span>
					  </div>
				  </div>
				  <p>Опоздал на работу на 3 минуты!</p>
				  <div class='task__stats'>
					<i class="fas fa-flag"></i><p>22.10.23</p>
				  </div>
				</div>
			</div>
		</div>
		<div class="employee-container">
		  <form>
			<h1 class="title text-center mb-4">Написать отзыв:</h1>
			<div class="form-group message">
			  <textarea id="formMessage" class="form-control form-control-lg" rows="7" placeholder="пишите..."></textarea>
			</div>
		    <div class="btns">
			<div class="text-center">
			  <button type="button" class="btn btn-exit employee">Назад</button>
			</div>
			<div class="text-center">
			  <button type="submit" class="btn btn-primary" tabIndex="-1">Отправить</button>
			</div>
			</div>
		  </form>
		</div>
    </div>
    <div class="app-content employee">
      <div class="app-content-header">
        <h1 class="app-content-headerText">Сотрудники</h1>
        <button class="mode-switch emp active" title="Switch Theme">
          <svg class="moon" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="24" height="24" viewBox="0 0 24 24">
            <defs></defs>
            <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
          </svg>
        </button>
      </div>
      <div class="app-content-actions">
        <input class="search-bar" placeholder="Поиск..." type="text">
        <div class="app-content-actions-wrapper">
          <div class="filter-button-wrapper">
            <button class="action-button filter jsFilter emp"><span>Фильтр</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-filter"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg></button>
            <div class="filter-menu emp">
              <label>Должность</label>
              <select>
                <option>Все</option>
                <option>Junior</option>
                <option>Middle</option>
              </select>
              <div class="filter-menu-buttons">
                <button class="filter-button reset">
                  Сбросить
                </button>
                <button class="filter-button apply">
                  Применить
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="products-area-wrapper tableView">
        <div class="products-header">
          <div class="product-cell image">
            Работник
            <button class="sort-button">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"><path fill="currentColor" d="M496.1 138.3L375.7 17.9c-7.9-7.9-20.6-7.9-28.5 0L226.9 138.3c-7.9 7.9-7.9 20.6 0 28.5 7.9 7.9 20.6 7.9 28.5 0l85.7-85.7v352.8c0 11.3 9.1 20.4 20.4 20.4 11.3 0 20.4-9.1 20.4-20.4V81.1l85.7 85.7c7.9 7.9 20.6 7.9 28.5 0 7.9-7.8 7.9-20.6 0-28.5zM287.1 347.2c-7.9-7.9-20.6-7.9-28.5 0l-85.7 85.7V80.1c0-11.3-9.1-20.4-20.4-20.4-11.3 0-20.4 9.1-20.4 20.4v352.8l-85.7-85.7c-7.9-7.9-20.6-7.9-28.5 0-7.9 7.9-7.9 20.6 0 28.5l120.4 120.4c7.9 7.9 20.6 7.9 28.5 0l120.4-120.4c7.8-7.9 7.8-20.7-.1-28.5z"/></svg>
            </button>
          </div>
          <div class="product-cell category">Должность<button class="sort-button">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"><path fill="currentColor" d="M496.1 138.3L375.7 17.9c-7.9-7.9-20.6-7.9-28.5 0L226.9 138.3c-7.9 7.9-7.9 20.6 0 28.5 7.9 7.9 20.6 7.9 28.5 0l85.7-85.7v352.8c0 11.3 9.1 20.4 20.4 20.4 11.3 0 20.4-9.1 20.4-20.4V81.1l85.7 85.7c7.9 7.9 20.6 7.9 28.5 0 7.9-7.8 7.9-20.6 0-28.5zM287.1 347.2c-7.9-7.9-20.6-7.9-28.5 0l-85.7 85.7V80.1c0-11.3-9.1-20.4-20.4-20.4-11.3 0-20.4 9.1-20.4 20.4v352.8l-85.7-85.7c-7.9-7.9-20.6-7.9-28.5 0-7.9 7.9-7.9 20.6 0 28.5l120.4 120.4c7.9 7.9 20.6 7.9 28.5 0l120.4-120.4c7.8-7.9 7.8-20.7-.1-28.5z"/></svg>
            </button></div>
        </div>
	    {% for user in users %}
			<div class="products-row employee">
			  <button class="cell-more-button">
				<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-vertical"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg>
			  </button>
				<div class="product-cell image">
				  <span>{{user.name}}</span>
				</div>
			  <div class="product-cell category">{{ user.role.name }}</div>
			</div>
		{% endfor %}
        </div>
      </div>
    <div class="feedback-page">
		<h1 class="card-fullname">Корнеев А. Г.</h1>
		<h2 class="card-jobtitle">UI разработчик</h2>
		<h2 class="card-feedbacks">Отзывы о вас:</h2>
		<div class="feedback-row">
			<div class='task'>
			  <div class="name-status">
				  <div class='task__tags'>Сотрудник В.</div>
				  <div class="product-cell status-cell">
				  <span class="status positive">Позитивный</span>
				  </div>
			  </div>
			  <p>Пришел на работу на 3 минуты раньше!</p>
			  <div class='task__stats'>
				<p>20.10.23</p>
			  </div>
			</div>
		</div>
		<div class="text-center">
		  <button type="button" class="btn btn-exit feedback">Назад</button>
		</div>
    </div>
  </div>
</body>
</html>
<!-- TODO: Сделать страницы статистики и уведомлений
     TODO: Сделать нейронку которая будет генерить генеральный отзыв
     TODO: настроить фильтр и поиск на странице
     TODO: написать алгоритм для вычесления веса отзыва (можно отталкиваться от наполнения ключевыми словами и должности сотрудника написавшего отзыв)
	 TODO: Сделать так чтобы пользователю показывало ключевые слова которые запросил сотрудник, сделать минимальное количество символов и еще каких-нить проверок и предупреждений
-->